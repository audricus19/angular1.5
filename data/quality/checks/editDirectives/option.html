<div class="row">
    <div class="col-md-10">
        <ui-select ng-model="newColumn.column" theme="bootstrap">
            <ui-select-match placeholder="select column to validate">
                {{ $select.selected.name }}
            </ui-select-match>
            <ui-select-choices repeat="column.name as column in validation.dataset.columns.data | filter:$select.search track by $index">
                <span>{{ column.name }}</span>
            </ui-select-choices>
        </ui-select>
    </div>
    <div class="col-md-2">
        <button class="btn btn-sm btn-success pull-left" ng-click="addColumn()">Add</button>
    </div>
</div>

<div class="row margintop10" ng-repeat="column in validation.columns">
    <div class="col-md-5" style="line-height:34px;">
        {{ column.column }}
    </div>
    <div class="col-md-5">
        <input type="number" ng-model="column.option" class="form-control" ng-if="validation.subtype=='number'" />
        <input type="text" ng-model="column.option" class="form-control" ng-if="validation.subtype=='string'" />
        <ui-select ng-model="column.option" theme="bootstrap" ng-if="validation.subtype=='format'">
            <ui-select-match placeholder="select format">
                {{ $select.selected.label }}
            </ui-select-match>
            <ui-select-choices repeat="format.value as format in formats | filter:$select.search track by $index">
                <span>{{ format.label }}</span>
            </ui-select-choices>
        </ui-select>
    </div>
    <div class="col-md-2">
        <button class="btn btn-sm btn-danger pull-left" ng-click="removeColumn($index)">
            <i class="fa fa-trash"></i>
        </button>
    </div>
</div>